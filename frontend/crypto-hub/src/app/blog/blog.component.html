<div class="container mx-auto p-4">
    <h1 class="text-3xl font-bold mb-6">Блог</h1>

    <div class="flex justify-end mb-4">
        <button *ngIf="isLoggedIn" (click)="openModal()"
            class="bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600">
            Добави статия
        </button>
    </div>

    <div *ngFor="let article of articles" class="border p-4 mb-4 rounded-lg shadow">
        <h2 class="text-xl font-semibold">{{ article.title }}</h2>
        <p class="text-gray-600">{{ article.content }}</p>
        <p class="text-sm text-gray-400 mt-2">Автор: {{ article.author.username }}</p>
    </div>
</div>

<div *ngIf="showModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center">
    <div class="bg-white p-6 rounded-lg shadow-lg w-1/3">
        <h2 class="text-2xl font-bold mb-4">Добави статия</h2>

        <label class="block mb-2">Заглавие:</label>
        <input [(ngModel)]="newArticle.title" class="w-full border p-2 mb-4 rounded-md" placeholder="Въведи заглавие">

        <label class="block mb-2">Съдържание:</label>
        <textarea [(ngModel)]="newArticle.content" class="w-full border p-2 mb-4 rounded-md" rows="4"
            placeholder="Въведи съдържание"></textarea>

        <div class="flex justify-end space-x-2">
            <button (click)="closeModal()"
                class="bg-gray-400 text-white px-4 py-2 rounded-md hover:bg-gray-500">Отказ</button>
            <button (click)="submitArticle()" [disabled]="isSubmitting"
                class="bg-green-500 text-white px-4 py-2 rounded-md hover:bg-green-600">
                {{ isSubmitting ? 'Изпращане...' : 'Изпрати' }}
            </button>
        </div>
    </div>
</div>